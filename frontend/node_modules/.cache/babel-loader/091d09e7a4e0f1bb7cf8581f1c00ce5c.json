{"ast":null,"code":"var _jsxFileName = \"E:\\\\web\\\\node-react-ecommerce-master\\\\node-react-ecommerce-master\\\\frontend\\\\src\\\\screens\\\\HomeScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listProducts } from '../actions/productActions';\nimport Rating from '../components/Rating';\n\nfunction HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const category = props.match.params.id ? props.match.params.id : '';\n  const productList = useSelector(state => state.productList);\n  const {\n    products,\n    loading,\n    error\n  } = productList;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listProducts(category));\n    return () => {//\n    };\n  }, [category]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  const sortHandler = e => {\n    setSortOrder(e.target.value);\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, category && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }\n  }, category), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"searchKeyword\",\n    onChange: e => setSearchKeyword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Sort By\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sortOrder\",\n    onChange: sortHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Newest\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Lowest\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Highest\")))), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"li\", {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/product/' + product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"product-image\",\n    src: product.image,\n    alt: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/product/' + product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, product.brand), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"$\", product.price), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    value: product.rating,\n    text: product.numReviews + ' reviews',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  })))))));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["E:/web/node-react-ecommerce-master/node-react-ecommerce-master/frontend/src/screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","axios","useSelector","useDispatch","listProducts","Rating","HomeScreen","props","searchKeyword","setSearchKeyword","sortOrder","setSortOrder","category","match","params","id","productList","state","products","loading","error","dispatch","submitHandler","e","preventDefault","sortHandler","target","value","map","product","_id","image","name","brand","price","rating","numReviews"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listProducts } from '../actions/productActions';\nimport Rating from '../components/Rating';\n\nfunction HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const category = props.match.params.id ? props.match.params.id : '';\n  const productList = useSelector((state) => state.productList);\n  const { products, loading, error } = productList;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listProducts(category));\n\n    return () => {\n      //\n    };\n  }, [category]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n  const sortHandler = (e) => {\n    setSortOrder(e.target.value);\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  return (\n    <>\n      {category && <h2>{category}</h2>}\n\n      <ul className=\"filter\">\n        <li>\n          <form onSubmit={submitHandler}>\n            <input\n              name=\"searchKeyword\"\n              onChange={(e) => setSearchKeyword(e.target.value)}\n            />\n            <button type=\"submit\">Search</button>\n          </form>\n        </li>\n        <li>\n          Sort By{' '}\n          <select name=\"sortOrder\" onChange={sortHandler}>\n            <option value=\"\">Newest</option>\n            <option value=\"lowest\">Lowest</option>\n            <option value=\"highest\">Highest</option>\n          </select>\n        </li>\n      </ul>\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : (\n        <ul className=\"products\">\n          {products.map((product) => (\n            <li key={product._id}>\n              <div className=\"product\">\n                <Link to={'/product/' + product._id}>\n                  <img\n                    className=\"product-image\"\n                    src={product.image}\n                    alt=\"product\"\n                  />\n                </Link>\n                <div className=\"product-name\">\n                  <Link to={'/product/' + product._id}>{product.name}</Link>\n                </div>\n                <div className=\"product-brand\">{product.brand}</div>\n                <div className=\"product-price\">${product.price}</div>\n                <div className=\"product-rating\">\n                  <Rating\n                    value={product.rating}\n                    text={product.numReviews + ' reviews'}\n                  />\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}